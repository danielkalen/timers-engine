(function(){(function(){return this.timers={timers:{},callbacks:{},currentTimes:{},add:function(a,b,c,d,e){null==a&&(a="interval");timers.currentTimes[b]=d;timers.callbacks[b]={};if("timeout"===a)return timers.timers[b]=setTimeout(function(){return c()},d);if("interval"===a&&(timers.timers[b]=setInterval(function(){c();return timers.invoke(b,d)},d),e))return setTimeout(function(){return clearInterval(timers.timers[b])},e)},remove:function(a){clearInterval(timers.timers[a]);delete timers.timers[a];
delete timers.callbacks[a];return delete timers.currentTimes[a]},invoke:function(a,b){var c,d,e,f,g;c=timers.currentTimes[a]+=b;if(null!=timers.callbacks[a][c]){f=timers.callbacks[a][c];g=[];d=0;for(e=f.length;d<e;d++)c=f[d],g.push(c());return g}},listen:function(a,b,c){null==timers.callbacks[a][b]&&(timers.callbacks[a][b]=[]);return timers.callbacks[a][b].push(c)}}})()}).call(this);
