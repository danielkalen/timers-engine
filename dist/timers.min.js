(function(){(function(){var h;h=new function(){this.timers={};this.callbacks={};this.timePassed={};this.add=function(a){var d,b,c,e,f;b=a.label;d=a.interval;e=a.stopAfter;f=a.updateCallback;this.timePassed[b]=0;this.callbacks[b]={};c=Date.now();this.timers[b]=setInterval(function(a){return function(){"function"===typeof f&&f();a.timePassed[b]=Date.now()-c;return a.invokeCallbacks(b,a.timePassed[b])}}(this),d);if(e)return setTimeout(function(a){return function(){return a.remove(b)}}(this),e)};this.remove=
function(a){clearInterval(this.timers[a]);delete this.timers[a];delete this.callbacks[a];return delete this.timePassed[a]};this.listen=function(a,d,b){var c;null==(c=this.callbacks[a])[d]&&(c[d]=[]);return this.callbacks[a][d].push(b)};return this.invokeCallbacks=function(a,d){var b,c,e,f,g;if(this.callbacks[a]&&(c=Object.keys(this.callbacks[a]).filter(function(a){return parseFloat(a)<d}),c.length)){g=[];e=0;for(f=c.length;e<f;e++)b=c[e],g.push(b());return g}}};return window.Timer=h})()}).call(this);
